<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title #titulo>
      Sistema de Asistencia Duoc UC
    </ion-title>
  </ion-toolbar>
</ion-header>
<br>
<ion-content [fullscreen]="true">
  <h1 style="text-align: center;">¡Bienvenid@!</h1>
  <br>
  <ion-label>
    <h2 #nombre style="text-align: center;">{{ usuario.nombre }}</h2>
  </ion-label>
<br>
  <input hidden #fileinput id="input-file" type="file" accept="image/*;capture=camera"
    (change)="verificarArchivoConQR($event)">
  <ion-button (click)="cargarImagenDesdeArchivo()" expand="full" shape="round">
    <ion-icon slot="start" name="camera"></ion-icon>
    Cargar Imagen Con Código QR
  </ion-button>
  <ion-button *ngIf="!escaneando" (click)="comenzarEscaneoQR()" expand="full" shape="round">
    <ion-icon slot="start" name="videocam-outline"></ion-icon>
    Comenzar Escaneo de QR
  </ion-button>

  <ion-button *ngIf="escaneando" (click)="detenerEscaneoQR()" expand="full" shape="round">
    <ion-icon slot="start" name="stop-circle-outline"></ion-icon>
    Detener Escaneo de QR
  </ion-button>

  <ion-button (click)="limpiarDatos()" expand="full" shape="round">
    <ion-icon slot="start" name="trash"></ion-icon>
    Limpiar Datos
  </ion-button>

  <video #video [hidden]="!escaneando" width="100%"></video>
  <canvas #canvas hidden></canvas>

  <ion-item>
    <ion-label [routerLink]="['/login']" class="ion-activated"
      style="display: flex; justify-content: center; align-items: center;">
      Cerrar sesión
    </ion-label>
  </ion-item>
</ion-content>